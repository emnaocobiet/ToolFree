<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BETVIP TOOL</title>
    <style>
        :root { --main: #00ff41; --sub: #008f11; --danger: #ff4444; --blue: #44aaff; }
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: #000; font-family: 'Consolas', monospace; }
        
        /* Iframe & Background */
        #game-frame { position: absolute; width: 100%; height: 100%; border: none; z-index: 1; }
        #snow { position: fixed; top: 0; pointer-events: none; z-index: 5; width: 100%; height: 100%; }

        /* Icon mở tool */
        #btn-reopen {
            position: fixed; top: 15px; left: 15px; z-index: 1000;
            background: #000; border: 2px solid var(--main); color: var(--main);
            border-radius: 10px; padding: 10px; font-weight: bold; display: none;
            box-shadow: 0 0 15px var(--main); cursor: pointer;
        }

        /* MOD MENU */
        #hacker-menu {
            position: absolute; top: 100px; left: 50%; transform: translateX(-50%);
            width: 300px; background: rgba(0, 0, 0, 0.9); border: 2px solid var(--main);
            border-radius: 15px; z-index: 100; box-shadow: 0 0 30px rgba(0, 255, 65, 0.4);
            color: #fff; backdrop-filter: blur(10px); touch-action: none; overflow: hidden;
        }

        .m-header {
            background: var(--main); color: #000; padding: 12px;
            font-weight: 900; display: flex; justify-content: space-between; align-items: center;
            cursor: move; font-size: 14px;
        }

        .screen { display: none; padding: 20px; text-align: center; }
        .active { display: block; }

        .btn-ui {
            width: 100%; padding: 15px; margin: 10px 0; border: 1px solid var(--main);
            background: transparent; color: var(--main); font-weight: bold;
            text-transform: uppercase; border-radius: 8px; cursor: pointer;
        }
        .btn-ui:active { transform: scale(0.95); background: var(--main); color: #000; }

        input {
            width: 90%; padding: 12px; border-radius: 8px; border: 1px solid #333;
            background: #111; color: var(--main); text-align: center; margin-bottom: 10px;
            font-size: 16px; outline: none;
        }

        #res-box { font-size: 38px; font-weight: 900; margin-top: 15px; min-height: 50px; }
        
        /* Hiệu ứng Scan */
        .laser {
            width: 100%; height: 3px; background: var(--main); position: absolute;
            left: 0; display: none; box-shadow: 0 0 20px var(--main); z-index: 110;
            animation: scanLine 2s infinite linear;
        }
        @keyframes scanLine { 0% { top: 0; } 100% { top: 100%; } }
    </style>
</head>
<body>

<canvas id="snow"></canvas>
<iframe id="game-frame" src="https://play.betvip.fit/"></iframe>
<button id="btn-reopen" onclick="showMenu(true)">OPEN MENU</button>

<div id="hacker-menu">
    <div class="laser" id="laser"></div>
    <div class="m-header" id="drag-handle">
        <span>BETVIP HACK v3.0</span>
        <span onclick="showMenu(false)" style="cursor:pointer; padding: 0 5px;">[ — ]</span>
    </div>

    <div id="sc-main" class="screen active">
        <button class="btn-ui" onclick="nav('md5')">DỰ ĐOÁN MD5</button>
        <button class="btn-ui" onclick="nav('pattern')">DỰ ĐOÁN PATTERN</button>
    </div>

    <div id="sc-md5" class="screen">
        <input type="text" id="val-md5" placeholder="DÁN MÃ MD5...">
        <button class="btn-ui" style="border-color: #fff; color: #fff;" onclick="runHack('md5')">QUÉT DỮ LIỆU</button>
        <div onclick="nav('main')" style="font-size: 11px; color: #666; cursor: pointer;">QUAY LẠI</div>
    </div>

    <div id="sc-pattern" class="screen">
        <input type="text" id="val-pattern" placeholder="VÍ DỤ: TXTXT">
        <button class="btn-ui" style="border-color: #fff; color: #fff;" onclick="runHack('pattern')">PHÂN TÍCH CẦU</button>
        <div onclick="nav('main')" style="font-size: 11px; color: #666; cursor: pointer;">QUAY LẠI</div>
    </div>

    <div id="res-box"></div>
</div>

<script>
    // --- DI CHUYỂN TOOL (TOUCH & MOUSE) ---
    const menu = document.getElementById("hacker-menu");
    const handle = document.getElementById("drag-handle");
    let x = 0, y = 0, isDown = false;

    handle.addEventListener('touchstart', (e) => { isDown = true; x = e.touches[0].clientX - menu.offsetLeft; y = e.touches[0].clientY - menu.offsetTop; }, {passive: false});
    document.addEventListener('touchmove', (e) => {
        if (isDown) {
            menu.style.left = (e.touches[0].clientX - x + menu.offsetWidth/2) + 'px';
            menu.style.top = (e.touches[0].clientY - y) + 'px';
            menu.style.transform = 'translateX(-50%)';
        }
    }, {passive: false});
    document.addEventListener('touchend', () => isDown = false);

    // --- CHUYỂN MÀN HÌNH ---
    function nav(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById('sc-' + id).classList.add('active');
        document.getElementById('res-box').innerHTML = "";
    }

    function showMenu(sw) {
        menu.style.display = sw ? 'block' : 'none';
        document.getElementById('btn-reopen').style.display = sw ? 'none' : 'block';
    }

    // --- THUẬT TOÁN XỊN ---
    function runHack(type) {
        const laser = document.getElementById('laser');
        const res = document.getElementById('res-box');
        laser.style.display = 'block';
        res.innerHTML = '<span style="font-size:12px; color:var(--main)">DECRYPTING...</span>';

        setTimeout(() => {
            laser.style.display = 'none';
            if (type === 'md5') {
                let s = document.getElementById('val-md5').value;
                if(!s) return;
                // Thuật toán Hex VIP: Lấy 6 ký tự cuối, tính tổng mã ASCII của từng ký tự
                let hex = s.slice(-6);
                let sum = 0;
                for(let i=0; i<hex.length; i++) sum += hex.charCodeAt(i);
                renderRes(sum % 2 !== 0 ? 'TÀI' : 'XỈU');
            } else {
                let p = document.getElementById('val-pattern').value.toUpperCase();
                if(!p) return;
                // Thuật toán Pattern: Nếu chuỗi kết thúc bằng T thì dự đoán X (đánh bẻ) và ngược lại
                let last = p.slice(-1);
                renderRes(last === 'T' ? 'XỈU' : 'TÀI');
            }
        }, 2000);
    }

    function renderRes(t) {
        let color = (t === 'TÀI') ? 'var(--danger)' : 'var(--blue)';
        document.getElementById('res-box').innerHTML = `<span style="color:${color}">${t}</span>`;
    }

    // --- HIỆU ỨNG TUYẾT ---
    const canvas = document.getElementById('snow');
    const ctx = canvas.getContext('2d');
    let p = [];
    function init() {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        for(let i=0; i<70; i++) p.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:Math.random()*3+1, s:Math.random()*1+0.5});
    }
    function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle = "white";
        p.forEach(i => { ctx.beginPath(); ctx.arc(i.x, i.y, i.r, 0, Math.PI*2); ctx.fill(); i.y += i.s; if(i.y > canvas.height) i.y = -5; });
        requestAnimationFrame(draw);
    }
    init(); draw();
</script>
</body>
</html>
